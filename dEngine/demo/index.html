<html lang="tr">
<head>
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <META HTTP-EQUIV="Expires" CONTENT="-1">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="../dEngine.js"></script>
        
        
        <link rel="stylesheet" href="css/boilerplate.css">
	<link rel="stylesheet" href="css/page.css">
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0">
        
</head>
<body>
    <div id="box" class="clearfix">
        
        <img id="image" class="image">
    </div>
    <br/>
    <div id="box1" class="clearfix">
        <p id="text"></p>
    </div>

    <div id="buttons"></div>
    
    
    
    
    
<script type="text/javascript">
  function readSingleFile(evt) {
    //Retrieve the first (and only!) File from the FileList object
    readSingleFileX(evt.target.files[0]);

  }
    
function readSingleFileX(f) {
    //Retrieve the first (and only!) File from the FileList object

    if (f) {
      var r = new FileReader();
      r.onload = function(e) { 
	      var contents = e.target.result;
          dEngine.setup(contents);
      }
      r.readAsText(f);
    } else { 
      alert("Failed to load file");
    }
  }
    
    function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.
        readSingleFileX(files[0]);
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document;
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);
    
    dEngine.setup();
    </script>
</body>
</html>